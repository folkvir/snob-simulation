# SNOB Simulation

Peer-sim simulation of the Snob model

# Requirements

* java version:
````bash
java version "1.8.0_171"
Java(TM) SE Runtime Environment (build 1.8.0_171-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)
````

* Gnuplot version 5.2 for running plot scripts


# Usage

```bash
# INSTALL
sh install.sh

# for just running a particular experiment
mvn exec:java@snob-50 #for the snob simulation with 50 queries

# or run the big experiment
nohup sh xp.sh > xp.log &
tail -f xp.log
```
* Config files must be placed in "./configs" folder.
* Find results in the results folder. Under the name "./results/{config.name}-output.txt"
* Find saved results of experiments in "./savedresults" folder


# Queries

Query results are generated through JENA using the queries.json file in each dataset folder.
Resulted file name: "queries_jena_generated.json"
We execute each experiment with the linkedmdb and diseasome generated file.
These files serve us as reference to compute the query completeness in our simulation.

If you want to regenerate these files, just remove the @Ignore in the test suite in "src/test/java/snob/simulation/AppTest.java" file
And do: `mvn test` it will regenerate each file into the origin folder of the queries.json file.

PS: the queries.json file was generated by a LDF server. Both execution using JENA and a LDF server do not produce the same results. That's why we regenerated a query results file using JENA.

## Results (see result part from webrtc-dequenpeda for more details)

### Average completeness by round

Average query completeness by round for different queries number with RPS, RPS+SON network configuration. Left to right respectively 50 (quarter), 100 (half) and 200 (all) queries.

![](saved-results/run1/completeness.png)

### Average number of messages by round

Average number of messages by round for different queries number with RPS, RPS+SON network configuration. Left to right respectively 50 (quarter), 100 (half) and 200 (all) queries.

![](saved-results/run1/messages.png)
